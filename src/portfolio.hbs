{{!< default}}
{{!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template --}}

<script>
  let clientWidth;
  let root = document.documentElement;
  window.addEventListener("load", () => {
    clientWidth = document.getElementById('size-ref').clientWidth;
    root.style.setProperty('--size-ref-x', clientWidth + "px");
  });
  console.log("portfolio.hbs");
</script>

{{!-- The main content area --}}
<main id="site-main">
  <div class="mr-[1.8rem] mb-[1.8rem] ">
    <!--div class="vh-2-3 flex justify-center items-center text-6xl text-center font-semibold">
      {{@site.description}}
    </div-->
    {{#foreach posts}}
      <article href="{{url}}" id="thumb-size" class="{{post_class}} h-[33vh] intersectionObserved relative overflow-hidden bg-black border-bottom border-black md:h-[66vh]">
        {{#if feature_image}}
          <a class="post-card-image-link z-30" href="{{url}}">
            {{!-- This is a responsive image, it loads different sizes depending on device
            https://medium.freecodecamp.org/a-guide-to-responsive-images-with-ready-to-use-templates-c400bd65c433 --}}
            <img class="post-card-image min-w-full object-cover h-full"
                 srcset="{{img_url feature_image size="s"}} 300w,
                    {{img_url feature_image size="m"}} 600w,
                    {{img_url feature_image size="l"}} 1000w,
                    {{img_url feature_image size="xl"}} 2000w"
                 sizes="100vw"
                 src="{{img_url feature_image size="m"}}"
                 alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                 loading="lazy"
            />
          </a>
        {{/if}}
          {{#if tags}}
              <ul class="flex flex-grow-1 justify-start mt-[calc(-0.975rem-2px)] md:mt-[calc(-0.975rem-4px)]">
                  {{#foreach tags}}
                      {{#unless @first}}
                          <li class="m-0 flex flex-col justify-start">
                              <a href="{{url}}" title="{{name}}" class="tag tag-{{id}} {{slug}}">{{name}}</a>
                          </li>
                      {{/unless}}
                  {{/foreach}}
              </ul>
          {{/if}}
      </article>
    {{/foreach}}
  </div>
</main>
